<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test API</title>
</head>
<body>
    Testing API.

    <br />
    <br />
    <label id="label" for="code"></label>
    <br />
    <textarea id="code" name="" cols="30" rows="10"></textarea>

    <script src="lib/earcut.js" type="text/javascript"></script>
    <script src="lib/api.js" type="text/javascript"></script>
    <script src="tests.js" type="text/javascript"></script>
    <script type="text/javascript">

        function printCode(name, code) {
            console.log("The code \"" + name + "\" is: ");
            console.log(code);
            console.log();
        }

        function printCodeInTextarea(name, code) {
            document.getElementById("label").innerHTML = name;
            document.getElementById("code").value = code;
        }

        var bitDiameter = 0.3;
        var passDepth = 0.4;
        var stepover = 0.3;
        var feedrate = 120;
        var safeZ = 3;
        var depth = 2;
        var cutProperties = new api.CutProperties(
            bitDiameter, passDepth, stepover, feedrate
        );
        var tabProperties = new api.TabProperties(1, 0.5);

        var codePocketNonConvex = api.gcode.pocketSimplePolygon(
            getNonConvexPolygon(), depth, cutProperties, safeZ
        );
        printCodeInTextarea("codePocketNonConvex", codePocketNonConvex);

        // var codePocketInnerConvex = api.gcode.pocketInnerConvexPolygon(
        //    getConvexPolygon(), 3, cutProperties,
        //    true, 3
        // );
        // printCodeInTextarea("codePocketInnerConvex", codePocketInnerConvex);

        // var codePocketConvex = api.gcode.pocketConvexPolygon(
        //    getConvexPolygon(), 3, new api.CutProperties(1, 2, 0.3, 120), 3
        // );
        // printCodeInTextarea("codePocketConvex", codePocketConvex);

    </script>
</body>
</html>
